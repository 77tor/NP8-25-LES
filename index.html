<!DOCTYPE html>
<html lang="no">
<head>

<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nasjonal prÃ¸ve i lesing 8.trinn - 2025</title>
<link rel="icon" type="image/png" href="LES.png">
<link rel="apple-touch-icon" href="LES.png">
    <style>
body{
    font:16px Arial,sans-serif;
    margin:0;
    padding:20px;
    background:#f4f7f9
}
.container{
    max-width:1500px;
    margin:auto;
    background:#fff;
    padding:20px;
    box-shadow:0 0 10px rgba(0,0,0,.1)
}
h1{
    color:#2c3e50;
    border-bottom:3px solid #3498db;
    padding-bottom:10px;
    text-align:center
}
h2{
    color:#3498db;
    margin:10px 0 20px;
    font-size:1.5em
}
.test-part{
    display:none;
    flex-direction:column;
    justify-content:space-between;
    min-height:900px;
    margin-bottom:40px;
    border-bottom:1px solid #ddd;
    padding-bottom:20px
}
.content-wrapper{
    display:flex;
    gap:20px;
    flex-grow:1;
    align-items:flex-start
}
.text-section,.question-section{
    padding:10px;
    border:1px solid #e0e0e0;
    border-radius:5px;
    background:#fcfcfc
}
.text-section{
    flex:2;
    background:#ecf0f1;
    padding:0;
    overflow:hidden;
    min-height:800px
}
.pdf-viewer{
    width:100%;
    height:800px;
    border:none
/* Legg til dette for Ã¥ tvinge frem en rullefelt i beholderen */
    overflow-y: scroll; 
/* PrÃ¸v ogsÃ¥ -webkit-overflow-scrolling: touch; for bedre rulling pÃ¥ iOS */
    -webkit-overflow-scrolling: touch;
}
.question-section{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:flex-start;
    max-height:600px
}
.questions-container{
    overflow-y:auto;
    flex-grow:1;
    padding-bottom:10px
}
.question{
    margin-bottom:20px;
    padding:10px;
    border:1px solid #ddd;
    border-radius:4px;
    display:none
}

/* 3. Stil for tekstboksen (<textarea>) - Gjelder KUN for Ã¥pne spÃ¸rsmÃ¥l */
.question textarea {
    width: 100%; /* SÃ¸rger for at tekstboksen fyller hele bredden */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box; /* Veldig viktig for 100% bredde uten overlÃ¸p */
    font-size: 1em;
    resize: vertical; 
}

.question.active{
    display:block
}
.question-navigation-buttons{
    display:flex;
    justify-content:space-between;
    margin-top:10px;
    padding-top:10px;
    border-top:1px solid #eee;
    flex-shrink:0
}
.next-button-slot{
    position:relative;
    width:150px;
    height:38px
}
.question-navigation-buttons button,.question-navigation-buttons input[type="submit"]{
    padding:8px 15px;
    background:#5d758f;
    color:#fff;
    border:none;
    border-radius:5px;
    font-size:1em;
    cursor:pointer;
    transition:background-color .3s;
    width:150px;
    text-align:center
}
.question-navigation-buttons button:hover,.question-navigation-buttons input[type="submit"]:hover{
    background:#4b6075
}
.next-button-slot .nav-right-btn{
    position:absolute;
    top:0;
    left:0;
    width:100%
}
.submit-btn,.submit-btn:hover{
    background:#2ecc71
}
.submit-btn:hover{
    background:#27ae60
}
.question p{
    font-weight:700;
    margin-top:0;
    color:#2c3e50
}
label{
    display:block;
    margin:5px 0;
    cursor:pointer
}
.answer-input{
    width:90%;
    padding:8px;
    margin-top:5px;
    border:1px solid #ccc;
    border-radius:3px
}
.correct-answer-placeholder{
    font-weight:400;
    font-style:italic;
    color:#999;
    font-size:.8em;
    display:block;
    margin-top:5px
}
#resultPage{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    min-height:100%;
    background:rgba(255,255,255,.95);
    backdrop-filter:blur(5px);
    display:none;
    flex-direction:column;
    align-items:center;
    padding-top:50px;
    box-sizing:border-box;
    z-index:100
}
.result-box{
    background:#fff;
    padding:40px;
    border-radius:10px;
    box-shadow:0 4px 15px rgba(0,0,0,.2);
    width:80%;
    max-width:900px
}
#finalScore{
    font-size:2.5em;
    color:#27ae60;
    margin:20px 0;
    font-weight:700
}
#incorrectAnswers{
    margin-top:30px;
    border-top:1px solid #ddd;
    padding-top:20px
}
#incorrectAnswers h3{
    color:#e74c3c;
    border-bottom:2px solid #e74c3c;
    padding-bottom:5px
}
.incorrect-item{
    background:#fcebe9;
    border-left:5px solid #e74c3c;
    margin-bottom:15px;
    padding:10px;
    border-radius:3px
}
.incorrect-item p{
    margin:5px 0;
    font-weight:400;
    font-size:.9em
}
.incorrect-item .question-text{
    font-weight:700;
    color:#2c3e50
}
.result-buttons{
    margin-top:30px;
    display:flex;
    justify-content:center;
    gap:20px
}
.result-buttons button{
    padding:10px 20px;
    border:none;
    border-radius:5px;
    font-size:1.1em;
    cursor:pointer;
    transition:background-color .3s
}
#restartQuiz{
    background:#3498db;
    color:#fff
}
#restartQuiz:hover{
    background:#2980b9
}
#closePage{
    background:#95a5a6;
    color:#fff
}
#closePage:hover{
    background:#7f8c8d
}
.quiz-table td,.quiz-table th{
    border:1px solid #ddd;
    padding:10px
}
.quiz-table tr:nth-child(even){
    background:#f9f9f9
}

.draggable-list {
    list-style: none; /* Fjern punktmerker */
    padding: 0;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.draggable-item {
    padding: 15px;
    margin: 0;
    background-color: #94B8E0;
    border-bottom: 10px solid #eee;
    cursor: move; /* Indikerer at elementet kan flyttes */
    transition: transform 0.2s; /* Glatt overgang ved bevegelse */
}

/* Fjerner bunnmargen pÃ¥ det siste elementet slik at det ligger inntil bunnen av listen */
.draggable-item:last-child {
    margin-bottom: 0;
}

/* Stil for elementet som dras */
.dragging {
    opacity: 0.5;
    background-color: #e0f7fa; /* Lysere farge nÃ¥r det dras */
}

/* Stil for droppsone */
.drop-placeholder {
    height: 50px; /* Samme hÃ¸yde som et vanlig element */
    background-color: #b2ebf2;
    border: 2px dashed #00bcd4;
}


/* Sett stilen pÃ¥ hovedcontaineren for Ã¥ sentrere og gi en bakgrunn */
#resultContainer {
    display: flex;
    justify-content: center; /* Sentrerer resultatkortet */
    padding: 20px;
    background-color: #f4f4f9; /* Lys bakgrunn for hele siden */
    min-height: 100vh;
}

/* Stil for selve resultat-ruten */
.result-card {
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    max-width: 800px; /* Sett maksimal bredde */
    width: 100%;
    margin: 20px 0;
}

/* Stil for hovedoverskriften */
.result-title {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 25px; /* SÃ¸rger for at innholdet kommer rett under */
    border-bottom: 2px solid #3498db; /* En linje under overskriften */
    padding-bottom: 15px;
}

/* Stil for oppsummering av poeng */
.score-summary p {
    font-size: 1.2em;
    font-weight: 500;
    text-align: center;
    margin-bottom: 30px;
    padding: 15px;
    background-color: #ecf0f1;
    border-radius: 8px;
}

/* Stil for seksjonen med feilaktige svar */
.incorrect-answers-section {
    border-top: 1px solid #bdc3c7; /* Linje for Ã¥ skille fra poengsum */
    padding-top: 20px;
    margin-top: 20px;
}

.incorrect-title {
    color: #e74c3c;
    margin-bottom: 15px;
}

/* Stil for hvert enkelt feilaktige svar i listen */
.incorrect-list {
    list-style-type: none; /* Fjerner standard nummerering */
    padding: 0;
}

.incorrect-item {
    background-color: #fcecec; /* RÃ¸dlig bakgrunn for feil */
    padding: 15px;
    margin-bottom: 10px;
    border-left: 5px solid #e74c3c; /* RÃ¸d stripe for markering */
    border-radius: 5px;
}

.incorrect-item h4 {
    margin-top: 0;
    color: #2c3e50;
    font-size: 1.1em;
}

.user-answer {
    color: #e74c3c; /* RÃ¸d farge for brukers feil svar */
}

.correct-answer {
    color: #27ae60; /* GrÃ¸nn farge for det riktige svaret */
    font-weight: bold;
}

.bakgrunnstekst {
            font-weight: italic; 
            margin-top: 0;
            padding-top: 20px; 
        }

</style>
</head>
<body>

<div class="container">
    <h1>Nasjonal prÃ¸ve i lesing 8.trinn - 2025</h1>


<div id="quizContent">

    
    <form id="quizForm" onsubmit="event.preventDefault(); checkQuiz();">

        <div class="test-part" id="part1">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 1: Dansemaranton</h2>
                    <iframe src="Dansemaraton.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til Dansemaraton</h2>
                    
                    <div class="questions-container">
                        <div class="question">
                            <p>1.1) Hvorfor ble det sÃ¥ populÃ¦rt Ã¥ se pÃ¥ dansemaraton, ifÃ¸lge teksten?</p>
                            <label><input type="radio" name="q1_1" value="A"> Folk ville se pÃ¥ nÃ¥r det ble satt nye danserekorder.</label>
                            <label><input type="radio" name="q1_1" value="B"> Det var ofte proffe dansere som deltok.</label>
                            <label><input type="radio" name="q1_1" value="C"> Folk likte Ã¥ se andre ha det verre enn dem selv.</label>
                            <label><input type="radio" name="q1_1" value="D"> Det ble servert mat til alle som sÃ¥ pÃ¥.</label>
			</div>

<div class="question">
    <p>1.2) Kryss av for hva som var lovlig, og hva som ikke var lovlig, i en dansemaraton. (Kryss av for Â«LovligÂ» eller Â«IKKE lovligÂ»)</strong></p>
    
    <table class="quiz-table" style="width:100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="border: 1px solid #ddd; padding: 10px; text-align: left; width: 60%;">PÃ¥stand</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center; width: 20%;">Lovlig</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center; width: 20%;">IKKE lovlig</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">Ã¥ bytte partner underveis</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2a" value="Lovlig">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2a" value="IKKE lovlig">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">Ã¥ ta en pause hver time</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2b" value="Lovlig">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2b" value="IKKE lovlig">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">Ã¥ stÃ¥ stille</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2c" value="Lovlig">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2c" value="IKKE lovlig">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">Ã¥ bevege seg pÃ¥ andre mÃ¥ter enn Ã¥ danse</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2d" value="Lovlig">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2d" value="IKKE lovlig">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">Ã¥ sove</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2e" value="Lovlig">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q1_2e" value="IKKE lovlig">
                </td>
            </tr>
        </tbody>
    </table>
</div>


<div class="question">
    <p>1.3) For mange var det en fordel Ã¥ delta i dansemaraton selv om de ikke vant. Hva var grunnen til det?</strong></p>
    
    <textarea 
        id="open-text-answer-1_3" 
        name="q1_3" 
        rows="5" 
        placeholder="Skriv inn ditt svar her..."
        required
    ></textarea>
</div>


<div class="question">
    <p>1.4) FullfÃ¸r setningen nedenfor slik at den stemmer med det som stÃ¥r i teksten.</p> 
PÃ¥ bildet ser vi en mann og en dame som 
        <select name="q1_4">
            <option value="">-- Velg svar --</option>
            <option value="A">satte verdensrekord i</option>
            <option value="B">vant</option>
            <option value="C">deltok i</option>
            <option value="D">dÃ¸de i</option>
        </select>
en dansemaraton i Chicago.
    </p>
</div>

<div class="question" id="q1_5">
    <p>1.5) Plasser hendelsene nedenfor i den rekkefÃ¸lgen de faktisk skjedde, fra fÃ¸rst (Ã¸verst) til sist (nederst). Klikk pÃ¥ teksten og flytt opp/ned.</p>
    <ul class="draggable-list">
        <li class="draggable-item" draggable="true" data-id="verden">Et par setter verdensrekord i dansemaraton</li>
        <li class="draggable-item" draggable="true" data-id="dÃ¸r">En mann dÃ¸r under en dansemaraton</li>
        <li class="draggable-item" draggable="true" data-id="deltar">Ann Lawanick og Jack Ritof deltar i en dansemaraton</li>
    </ul>
</div>


                        <div class="question">
                            <p>1.6) Hva mener sannsynligvis forfatteren om dansemaraton?</p>
                            <label><input type="radio" name="q1_6" value="A"> at det er dÃ¥rlig gjort Ã¥ utnytte folk som har det vanskelig</label>
                            <label><input type="radio" name="q1_6" value="B"> at man fant pÃ¥ mye gÃ¸y fÃ¸r i tiden ogsÃ¥</label>
                            <label><input type="radio" name="q1_6" value="C"> at konkurransen kunne vÃ¦rt gjort enda mer spennende</label>
                            <label><input type="radio" name="q1_6" value="D"> at det er synd at man sluttet med dansemaraton</label>
                        </div>


                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="test-part" id="part2">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 2: Pinocchiokulene</h2>
                    <iframe src="Pinocchiokulene.pdf" class="pdf-viewer scrolling="yes""></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œPinocchiokuleneâ€</h2>
                    
                    <div class="questions-container">
                        <div class="question">
                            <p>2.1) NÃ¥r bestemmer jenta seg for Ã¥ stjele godteri?</p>
                            <label><input type="radio" name="q2_1" value="A"> fÃ¸r hun gÃ¥r inn i butikken</label>
                            <label><input type="radio" name="q2_1" value="B"> nÃ¥r hun ser alt godteriet i butikken</label>
                            <label><input type="radio" name="q2_1" value="C"> nÃ¥r hun tenker pÃ¥ faren sin</label>
                            <label><input type="radio" name="q2_1" value="D"> nÃ¥r hun snakker med damen i butikken</label>
                        </div>

                        <div class="question">
    <p>2.2) Hva er den viktigste grunnen til at jenta stjeler godteri fra butikken?</strong></p>
    <textarea 
        id="open-text-answer-2_2" 
        name="q2_2" 
        rows="5" 
        placeholder="Skriv inn ditt svar her..."
        required
    ></textarea>
</div>

                        <div class="question">
                            <p>2.3) Hvorfor tar jenta pinocchiokulene og ikke noe annet godteri?</p>
                            <label><input type="radio" name="q2_3" value="A"> fordi det er det beste hun vet</label>
                            <label><input type="radio" name="q2_3" value="B"> fordi det er det beste faren hennes vet</label>
                            <label><input type="radio" name="q2_3" value="C"> fordi de er smÃ¥ og billige</label>
                            <label><input type="radio" name="q2_3" value="D"> fordi de andre barna sier hun skal gjÃ¸re det</label>
                        </div>
<div class="question">
    <p>2.4) FullfÃ¸r setningen nedenfor.</p> Jenta stjeler
        <select name="q2_4">
            <option value="">-- Velg svar --</option>
            <option value="A">Ã©n pose</option>
            <option value="B">to poser</option>
            <option value="C">tre poser</option>
        </select>
        pinocchiokuler i butikken.
    </p>
</div>
                        <div class="question">
                            <p>2.5) Hvorfor tenkte jenta at hun skulle levere godteriet tilbake til butikken?</p>
                            <label><input type="radio" name="q2_5" value="A"> Faren sa at hun mÃ¥tte gjÃ¸re det.</label>
                            <label><input type="radio" name="q2_5" value="B"> Hun hadde dÃ¥rlig samvittighet.</label>
                            <label><input type="radio" name="q2_5" value="C"> Hun likte ikke pinocchiokulene.</label>
                            <label><input type="radio" name="q2_5" value="D"> Hun ville imponere de andre barna.</label>
                        </div>


                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="test-part" id="part3">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 3: Ã˜rnerovet</h2>
                    <iframe src="Ã˜rnerovet.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œÃ˜rnerovetâ€</h2>
                    
                    <div class="questions-container">
                        <div class="question">
                            <p>3.1) Hva i tekst 1 blir brukt som et bevis for at Svanhild ble tatt av en Ã¸rn?</p>
                            <label><input type="radio" name="q3_1" value="A"> KlÃ¦rne til Svanhild hadde merker etter en Ã¸rneklo.</label>
                            <label><input type="radio" name="q3_1" value="B"> Svanhild fortalte selv at en Ã¸rn hadde tatt henne.</label>
                            <label><input type="radio" name="q3_1" value="C"> Det var flere som sÃ¥ at en Ã¸rn flÃ¸y av gÃ¥rde med Svanhild.</label>
                            <label><input type="radio" name="q3_1" value="D"> Svanhild ble funnet med sÃ¥r og rifter fra Ã¸rneklÃ¸r.</label>
                        </div>

                        <div class="question">
                            <p>3.2) Les avsnittet som begynner med Â«Steinar Hunnestad har skrevet â€¦Â» i tekst 1. Hvilken overskrift kunne ha passet til dette avsnittet?</p>
                            <label><input type="radio" name="q3_2" value="A"> Kritiske til Ã¸rnerovet</label>
                            <label><input type="radio" name="q3_2" value="B"> Stemplet som lÃ¸gnere</label>
                            <label><input type="radio" name="q3_2" value="C"> Stor interesse for Ã¸rnerovet</label>
                            <label><input type="radio" name="q3_2" value="D"> Dramatikk i fjellet</label>
                        </div>

                        <div class="question">
                            <p>3.3) Hvilken opplysning i tekst 2 viser at historien om Ã¸rnerovet er viktig for de som bor pÃ¥ Leka?</strong></p>
                            <textarea 
                            id="open-text-answer-3_3" 
                            name="q3_3" 
                            rows="5" 
                            placeholder="Skriv inn ditt svar her..."
                            required
                            ></textarea>
                        </div>


                        <div class="question">
                            <p>3.4) Hva er grunnen til at Tor Bollingmo ikke tror pÃ¥ historien om Svanhild og Ã¸rnen, ifÃ¸lge tekst 2?</p>
                            <label><input type="radio" name="q3_4" value="A"> En Ã¸rn ville aldri klart Ã¥ fly av gÃ¥rde med et sÃ¥ stort barn.</label>
                            <label><input type="radio" name="q3_4" value="B"> Svanhild har aldri sagt at det var en Ã¸rn som tok henne.</label>
                            <label><input type="radio" name="q3_4" value="C"> Svanhild var uskadet da hun ble funnet.</label>
                            <label><input type="radio" name="q3_4" value="D"> Det var ingen hull i kjolen til Svanhild.</label>
                        </div>
                        <div class="question">
                            <p>3.5) FullfÃ¸r setningen nedenfor. 
                                    For Ã¥ finne ut om historien om Ã¸rnerovet pÃ¥ Leka var sann, undersÃ¸kte Jan Ove Gjershaug â€¦</p>
                            <label><input type="radio" name="q3_5" value="A"> om en havÃ¸rn vil ta et barn som gÃ¥r alene i fjellet.</label>
                            <label><input type="radio" name="q3_5" value="B"> om et barn pÃ¥ tre Ã¥r kan komme seg til funnstedet.</label>
                            <label><input type="radio" name="q3_5" value="C"> om en havÃ¸rn kan bÃ¦re lam og reinsdyrkalver.</label>
                            <label><input type="radio" name="q3_5" value="D"> om klÃ¦rne til Svanhild hadde hull og rifter.</label>
                        </div>

                        <div class="question">
                            <p>3.6) Hvem kan ha interesse av at folk tror pÃ¥ historien om Ã¸rnerovet?</p>
                            <label><input type="radio" name="q3_6" value="A"> Fugleforskere</label>
                            <label><input type="radio" name="q3_6" value="B"> Fjellklatrere</label>
                            <label><input type="radio" name="q3_6" value="C"> SmÃ¥barnsforeldre</label>
                            <label><input type="radio" name="q3_6" value="D"> TuristnÃ¦ringen pÃ¥ Leka</label>
                        </div>


                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="test-part" id="part4">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 4: Mona Lisa</h2>
                    <iframe src="Mona Lisa.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œMona Lisaâ€</h2>

                    <div class="questions-container">
                        <div class="question">
                            <p>4.1) Maleriet som skal selges, kalles Â«Mona Lisa HekkingÂ». Hvor kommer dette navnet fra?</p>
                            <label><input type="radio" name="q4_1" value="A"> fra kunstneren som malte det</label>
                            <label><input type="radio" name="q4_1" value="B"> fra kunsthandleren som kjÃ¸pte det</label>
                            <label><input type="radio" name="q4_1" value="C"> fra tyven som stjal det fra museet</label>
                            <label><input type="radio" name="q4_1" value="D"> fra auksjonshuset som skal selge det</label>
                        </div>

<div class="question">
    <p>4.2) Hva var bakgrunnen for at Raymond Hekking kunne pÃ¥stÃ¥ at han eide det originale Â«Mona LisaÂ»-maleriet?</strong></p>
    <textarea 
        id="open-text-answer-4_2" 
        name="q4_2" 
        rows="5" 
        placeholder="Skriv inn ditt svar her..."
        required
    ></textarea>
</div>

                        <div class="question">
                            <p>4.3) Hva er riktig om maleriet som skal selges pÃ¥ auksjon, ifÃ¸lge teksten?</p>
                            <label><input type="radio" name="q4_3" value="A"> Maleriet har tidligere blitt stjÃ¥let.</label>
                            <label><input type="radio" name="q4_3" value="B"> Maleriet er en kopi av et berÃ¸mt maleri.</label>
                            <label><input type="radio" name="q4_3" value="C"> Maleriet har tidligere blitt solgt for mye penger.</label>
                            <label><input type="radio" name="q4_3" value="D"> Maleriet er malt av en svÃ¦rt kjent kunstner.</label>
                        </div>

<div class="question" id="q4_4">
    <p>4.4) Plasser hendelsene nedenfor i den rekkefÃ¸lgen de faktisk skjedde, fra fÃ¸rst (Ã¸verst) til sist (nederst). Klikk pÃ¥ teksten og flytt opp/ned.</p>
    <ul class="draggable-list">
        <li class="draggable-item" draggable="true" data-id="3">Raymond Hekking pÃ¥stÃ¥r at maleriet â€œMona Lisaâ€ i Louvre er en kopi.</li>
        <li class="draggable-item" draggable="true" data-id="2">Maleriet â€œMona Lisaâ€ blir levert tilbake til Louvre.</li>
        <li class="draggable-item" draggable="true" data-id="4">Et auksjonshus skal selge en kopi av  maleriet â€œMona Lisaâ€.</li>
        <li class="draggable-item" draggable="true" data-id="1">Vincenzo Perugia stjeler  maleriet â€œMona Lisaâ€.</li>
    </ul>
</div>

      <div class="question">
      <p>4.5) Hva fÃ¥r vi svar pÃ¥, og hva fÃ¥r vi ikke svar pÃ¥ i denne teksten?
Kryss av for Â«FÃ¥r svarÂ» og Â«FÃ¥r IKKE svarÂ» i tabellen nedenfor.
</strong></p> 
      <table class="quiz-table" style="width:100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="border: 1px solid #ddd; padding: 10px; text-align: left; width: 60%;">PÃ¥stand</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center; width: 20%;">FÃ¥r svar</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center; width: 20%;">FÃ¥r IKKE svar</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">hvem som stjal Â«Mona LisaÂ» fra Louvre i 1911</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5a" value="FÃ¥r svar">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5a" value="FÃ¥r IKKE svar">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">hvilket Ã¥r Raymond Hekking kjÃ¸pte maleriet</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5b" value="FÃ¥r svar">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5b" value="FÃ¥r IKKE svar">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">hvem som har malt Â«Mona Lisa HekkingÂ»</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5c" value="FÃ¥r svar">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5c" value="FÃ¥r IKKE svar">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">hvem som skal selge Â«Mona Lisa HekkingÂ»</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5d" value="FÃ¥r svar">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5d" value="FÃ¥r IKKE svar">
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 10px;">hvor mye Â«Mona Lisa HekkingÂ» ble solgt for</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5e" value="FÃ¥r svar">
                </td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                    <input type="radio" name="q4_5e" value="FÃ¥r IKKE svar">
                </td>
            </tr>
        </tbody>
    </table>
</div>



                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-part" id="part5">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 5: Du har jo sykkelen din</h2>
                    <iframe src="Du har jo sykkelen din.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œDu har jo sykkelen dinâ€</h2>
<div class="questions-container">
<div class="question">
    <p>5.1) Hva er grunnen til at jenta er hjemme denne dagen?</strong></p>
    <textarea 
        id="open-text-answer-5_1" 
        name="q5_1" 
        rows="5" 
        placeholder="Skriv inn ditt svar her..."
        required
    ></textarea>
</div>
                

                        <div class="question">
                            <p>5.2) Hva er det jenta i teksten lyver om?</p>
                            <label><input type="radio" name="q5_2" value="A"> at hun har mest lyst til Ã¥ se tigrene</label>
                            <label><input type="radio" name="q5_2" value="B"> at hun har fÃ¥tt en liten hund</label>
                            <label><input type="radio" name="q5_2" value="C"> at hun har stÃ¥tt pÃ¥ skÃ¸yter i en konkurranse</label>
                            <label><input type="radio" name="q5_2" value="D"> at hun nettopp har vÃ¦rt i dyreparken</label>
                        </div>

<div class="question" id="q5_3">
    <p>5.3) Plasser hendelsene nedenfor i den rekkefÃ¸lgen de faktisk skjedde, fra fÃ¸rst (Ã¸verst) til sist (nederst). Klikk pÃ¥ teksten og flytt opp/ned.</p>
    <ul class="draggable-list">
        <li class="draggable-item" draggable="true" data-id="2">Stina og Kerstin reiser med de andre.</li>
        <li class="draggable-item" draggable="true" data-id="1">Jenta har bursdag.</li>
        <li class="draggable-item" draggable="true" data-id="3">Jenta sykler i bakgÃ¥rden.</li>
    </ul>
</div>

                        <div class="question">
                            <p>5.4) Hva synes egentlig jenta om Ã¥ vÃ¦re hjemme denne dagen?</p>
                            <label><input type="radio" name="q5_4" value="A"> Hun er glad for at hun slipper Ã¥ vÃ¦re pÃ¥ tur i regnvÃ¦r.</label>
                            <label><input type="radio" name="q5_4" value="B"> Hun syns det er koselig Ã¥ vÃ¦re sammen med moren.</label>
                            <label><input type="radio" name="q5_4" value="C"> Hun vil heller sykle enn Ã¥ vÃ¦re med klassen pÃ¥ tur.</label>
                            <label><input type="radio" name="q5_4" value="D"> Hun ville helst ha vÃ¦rt med klassen pÃ¥ tur.</label>
                        </div>
                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-part" id="part6">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 6: Bananfluer</h2>
                    <iframe src="Bananfluer.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œBananfluerâ€</h2>

<div class="questions-container">                    
                        <div class="question">
                            <p>6.1) Hvilket spÃ¸rsmÃ¥l Ã¸nsket forskerne bak bananflue-studien Ã¥ fÃ¥ svar pÃ¥?</p>
                            <label><input type="radio" name="q6_1" value="A"> Hvor lenge orker en bananflue Ã¥ kjÃ¸re karusell?</label>
                            <label><input type="radio" name="q6_1" value="B"> Liker bananfluer Ã¥ kjÃ¸re karusell?</label>
                            <label><input type="radio" name="q6_1" value="C"> Hvilke bananfluer Ã¸nsker Ã¥ kjÃ¸re karusell?</label>
                            <label><input type="radio" name="q6_1" value="D"> KjÃ¸rer bananfluer karusell hvis de fÃ¥r belÃ¸nning?</label>
                        </div>

                        <div class="question">
                            <p>6.2) Hva gjorde forskerne for Ã¥ finne svar pÃ¥ spÃ¸rsmÃ¥let?</p>
                            <label><input type="radio" name="q6_2" value="A"> De trente opp bananfluene til Ã¥ kjÃ¸re karusell.</label>
                            <label><input type="radio" name="q6_2" value="B"> De gjennomfÃ¸rte samme forsÃ¸k med ulike insekter.</label>
                            <label><input type="radio" name="q6_2" value="C"> De gjennomfÃ¸rte tre ulike forsÃ¸k med bananfluer.</label>
                            <label><input type="radio" name="q6_2" value="D"> De leste tidligere forskningsartikler om bananfluer.</label>
                        </div>

                        <div class="question">
                            <p>6.3) For Ã¥ finne ut om bananfluer liker Ã¥ kjÃ¸re karusell, ga forskerne bananfluene fri tilgang pÃ¥ mat og vann og mye plass Ã¥ sitte pÃ¥ utenom karusellen. Hvorfor var dette viktig for forsÃ¸ket?</strong></p>
                            <textarea 
                             id="open-text-answer-6_3" 
                             name="q6_3" 
                             rows="5" 
                             placeholder="Skriv inn ditt svar her..."
                             required
                            ></textarea>
                        </div>

                        <div class="question">
                            <p>6.4) Hva fant forskerne bak bananflue-studien ut?</p>
                            <label><input type="radio" name="q6_4" value="A"> at mange bananfluer valgte Ã¥ sitte pÃ¥ en snurrende plate</label>
                            <label><input type="radio" name="q6_4" value="B"> at bananfluene satte seg pÃ¥ en snurrende plate hvis det lÃ¥ mat der</label>
                            <label><input type="radio" name="q6_4" value="C"> at bananfluene helst ville sitte pÃ¥ en plate som stod stille</label>
                            <label><input type="radio" name="q6_4" value="D"> at mange bananfluer ble stresset av Ã¥ sitte pÃ¥ en snurrende plate</label>
                        </div>

                        <div class="question">
                            <p>6.5) Hvordan har forfatteren av denne teksten gÃ¥tt fram for Ã¥ hente informasjon om bananflue-studien?</p>
                            <label><input type="radio" name="q6_5" value="A"> Hun har intervjuet forskerne bak studien.</label>
                            <label><input type="radio" name="q6_5" value="B"> Hun var til stede da eksperimentet ble gjennomfÃ¸rt.</label>
                            <label><input type="radio" name="q6_5" value="C"> Hun har lest om studien pÃ¥ en nettside om forskning.</label>
                            <label><input type="radio" name="q6_5" value="D"> Hun har sett en dokumentar om dyr som leker.</label>
                        </div>

<div class="question">
    <p>6.6) Velg det ordet i listen som viser at forskerne ikke er helt sikre pÃ¥ om bananfluer synes det er gÃ¸y Ã¥ kjÃ¸re karusell (ordene i teksten stÃ¥r med store bokstaver).</p> 
        <select name="q6_6">
            <option value="">-- Velg svar --</option>
            <option value="A">KAN</option>
            <option value="B">VISER</option>
            <option value="C">SYNES</option>
            <option value="D">TYDER</option>
            <option value="E">VALGTE</option>
        </select>
</p> <p class="bakgrunnstekst">
        Vi mennesker synes det KAN vÃ¦re gÃ¸y Ã¥ sitte stille mens vi likevel er i bevegelse, for eksempel pÃ¥ en huske eller karusell. NÃ¥ VISER det seg at bananfluer ogsÃ¥ SYNES dette er moro. Det TYDER i alle fall ny forskning pÃ¥. I et rom med mange bananfluer satte forskere inn en plate som snurret rundt, og mange av fluene VALGTE Ã¥ ta seg flere turer med karusellen.
    </p>
</div>

                        <div class="question">
                            <p>6.7) Hva er grunnen til at en studie med humler er nevnt i denne teksten?</p>
                            <label><input type="radio" name="q6_7" value="A"> Resultatet fra humle-studien motbeviser resultatet fra bananflue-studien.</label>
                            <label><input type="radio" name="q6_7" value="B"> Humle-studien er inspirert av bananflue-studien.</label>
                            <label><input type="radio" name="q6_7" value="C"> Forskere er kritiske til bÃ¥de humle-studien og bananflue-studien.</label>
                            <label><input type="radio" name="q6_7" value="D"> Resultatet fra humle-studien ligner pÃ¥ resultatet fra bananflue-studien.</label>
                        </div>

                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
     
        <div class="test-part" id="part7">
            <div class="content-wrapper">
                <div class="text-section">
                    <h2>DEL 7: Zarafa</h2>
                    <iframe src="Zarafa.pdf" class="pdf-viewer" scrolling="yes"></iframe>
                </div>
                <div class="question-section">
                    <h2>SpÃ¸rsmÃ¥l til â€œZarafaâ€</h2>

<div class="questions-container">                    
                        <div class="question">
                            <p>7.1) Hvorfor ble Zarafa berÃ¸mt da hun kom til Frankrike?</p>
                            <label><input type="radio" name="q7_1" value="A"> Folk var ikke vant til Ã¥ se sjiraffer pÃ¥ den tiden.</label>
                            <label><input type="radio" name="q7_1" value="B"> Hun var den fÃ¸rste sjiraffen som kom til Europa.</label>
                            <label><input type="radio" name="q7_1" value="C"> Hun gikk lenger enn noen annen sjiraff hadde gÃ¥tt fÃ¸r.</label>
                            <label><input type="radio" name="q7_1" value="D"> Hun ble drept av en flokk lÃ¸ver som underholdning.</label>
                        </div>

                        <div class="question">
                            <p>7.2) Hvorfor mÃ¥tte Zarafa gÃ¥ hele veien fra Marseille til Paris?</p>
                            <label><input type="radio" name="q7_2" value="A"> Den franske kongen ville at flest mulig skulle fÃ¥ se Zarafa.</label>
                            <label><input type="radio" name="q7_2" value="B"> Det var raskere Ã¥ la Zarafa gÃ¥ selv enn Ã¥ frakte henne.</label>
                            <label><input type="radio" name="q7_2" value="C"> Den franske kongen ville ikke betale for Ã¥ hente Zarafa til Paris.</label>
                            <label><input type="radio" name="q7_2" value="D"> Det var vanskelig Ã¥ finne en god mÃ¥te Ã¥ frakte Zarafa pÃ¥.</label>
                        </div>

                        <div class="question">
                            <p>7.3) Hva vil forfatteren fÃ¥ fram nÃ¥r han skriver at Â«1/8 av innbyggerne i ParisÂ» kom for Ã¥ se Zarafa?</p>
                            <label><input type="radio" name="q7_3" value="A"> at det egentlig ikke var sÃ¥ mange som ville se Zarafa</label>
                            <label><input type="radio" name="q7_3" value="B"> at det bodde veldig mange mennesker i Paris</label>
                            <label><input type="radio" name="q7_3" value="C"> at det var mange mennesker som ville se Zarafa</label>
                            <label><input type="radio" name="q7_3" value="D"> at man ikke vet nÃ¸yaktig hvor mange som kom for Ã¥ se Zarafa</label>
                        </div>

                        <div class="question">
                            <p>7.4) Hva menes med at Zarafa satte et enormt avtrykk pÃ¥ datidens Frankrike?</p>
                            <label><input type="radio" name="q7_4" value="A"> Det kostet mye penger Ã¥ frakte Zarafa til Paris.</label>
                            <label><input type="radio" name="q7_4" value="B"> Zarafa underholdt pÃ¥ sirkus over hele Frankrike.</label>
                            <label><input type="radio" name="q7_4" value="C"> Zarafa inspirerte franske kunstnere og moteskapere.</label>
                            <label><input type="radio" name="q7_4" value="D"> Det ble populÃ¦rt Ã¥ gi sjiraffer i gave til rike folk.</label>
                        </div>
 
                        <div class="question" id="q7_5">
                            <p>7.5) Plasser hendelsene nedenfor i den rekkefÃ¸lgen de faktisk skjedde, fra fÃ¸rst (Ã¸verst) til sist (nederst). Klikk pÃ¥ teksten og flytt opp/ned.</p>
                            <ul class="draggable-list">
                            <li class="draggable-item" draggable="true" data-id="3">Zarafa kommer fram til Marseille i Frankrike.</li>
                            <li class="draggable-item" draggable="true" data-id="1">Julius CÃ¦sar fÃ¥r hentet en sjiraff til Roma.</li>
                            <li class="draggable-item" draggable="true" data-id="2">Mohammed Ali av Egypt gir en sjiraff i gave til kong Karl 10.</li>
                            <li class="draggable-item" draggable="true" data-id="4">Zarafa blir plassert i den zoologiske hagen i Paris.</li>
                            </ul>
                       </div>
<div class="question">
    <p>7.6) FullfÃ¸r setningen nedenfor.</p> Hvis du vil se Zarafa i dag, mÃ¥ du dra til byen
        <select name="q7_6">
            <option value="">-- Velg svar --</option>
            <option value="A">Marseille</option>
            <option value="B">Lyon</option>
            <option value="C">Paris</option>
            <option value="D">La Rochelle</option>
        </select>
        pinocchiokuler i butikken.
    </p>
</div>   

                    </div> <div class="question-navigation-buttons">
                        <button type="button" class="prev-question-btn" onclick="goBack()">Tilbake</button>
                        <div class="next-button-slot">
                            <button type="button" class="nav-right-btn next-question-btn" onclick="goNext()">Neste</button>
                            <button type="button" class="nav-right-btn next-part-btn" onclick="goNext()" style="display: none;">Neste</button>
                            <input type="submit" class="nav-right-btn submit-btn" value="FullfÃ¸r prÃ¸ven" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </form>
</div>
<div id="resultPage">
Â  Â  Â  Â  <div class="result-box">
Â  Â  Â  Â  Â  Â  <h1 style="border-bottom-color: #27ae60;">Gratulerer! Du har fullfÃ¸rt prÃ¸ven! ğŸ‰</h1>
Â  Â  Â  Â  Â  Â  <h2>Ditt resultat:</h2>
Â  Â  Â  Â  Â  Â  <div id="finalScore"></div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="incorrectAnswers">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Feilaktige svar:</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="allCorrectMessage" style="color:#27ae60; font-weight: bold; display: none;">Alle svar er riktige!</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="result-buttons">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="restartQuiz" onclick="restartQuiz()">ğŸ”„ Start prÃ¸ven pÃ¥ nytt</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="closePage" onclick="closeWindow()">âŒ Lukk siden</button>
Â  Â  Â  Â  Â  Â  </div>
<script>
    // --- STATE VARIABLER ---
    let currentPart = 1;
    let currentQuestionIndex = 0;
    const totalParts = 7;
    const partIds = ['part1', 'part2', 'part3', 'part4', 'part5', 'part6', 'part7'];
    const quizContent = document.getElementById('quizContent');
    
    // --- FASIT & DATA STRUKTURER ---

    // Kartlegger antall spÃ¸rsmÃ¥l per del
    const questionsPerPart = {
        1: 6, 2: 5, 3: 6, 4: 5, 5: 4, 6: 7, 7: 6,
    };

    // Flervalg og Match-spÃ¸rsmÃ¥l (ID: Riktig svar)
    const correctAnswers = {
        // DEL 1
        'q1_1': 'C', 'q1_2a': 'IKKE lovlig', 'q1_2b': 'Lovlig', 'q1_2c': 'IKKE lovlig', 'q1_2d': 'Lovlig', 'q1_2e': 'Lovlig', 'q1_4': 'C', 'q1_6': 'A',
        // DEL 2
        'q2_1': 'A', 'q2_3': 'C', 'q2_4': 'B', 'q2_5': 'B',
        // DEL 3
        'q3_1': 'A', 'q3_2': 'C', 'q3_4': 'A', 'q3_5': 'B', 'q3_6': 'D',
        // DEL 4
        'q4_1': 'B', 'q4_3': 'B', 'q4_5a': 'FÃ¥r svar', 'q4_5b': 'FÃ¥r IKKE svar', 'q4_5c': 'FÃ¥r IKKE svar', 'q4_5d': 'FÃ¥r svar', 'q4_5e': 'FÃ¥r IKKE svar',
        // DEL 5
        'q5_2': 'D', 'q5_4': 'D',
        // DEL 6
        'q6_1': 'B', 'q6_2': 'C', 'q6_4': 'A', 'q6_5': 'C', 'q6_6': 'D', 'q6_7': 'D',
        // DEL 7
        'q7_1': 'A', 'q7_2': 'D', 'q7_3': 'C', 'q7_4': 'C', 'q7_6': 'D',
    };
    
    // NYTT: Kartlegger poeng for hvert spÃ¸rsmÃ¥ls-ID (Flervalg/Match/Sortering)
    const questionPoints = {
        // Del 1 (Flervalg/Match = 1p, Sortering = 2p)
        'q1_1': 1, 'q1_2a': 1, 'q1_2b': 1, 'q1_2c': 1, 'q1_2d': 1, 'q1_2e': 1, 'q1_4': 1, 'q1_6': 1,
        'q1_5': 1, 
        // Del 2
        'q2_1': 1, 'q2_3': 1, 'q2_4': 1, 'q2_5': 1,
        // Del 3
        'q3_1': 1, 'q3_2': 1, 'q3_4': 1, 'q3_5': 1, 'q3_6': 1,
        // Del 4 (Sortering = 3p)
        'q4_1': 1, 'q4_3': 1, 'q4_5a': 1, 'q4_5b': 1, 'q4_5c': 1, 'q4_5d': 1, 'q4_5e': 1,
        'q4_4': 1,
        // Del 5 (Sortering = 2p)
        'q5_2': 1, 'q5_4': 1,
        'q5_3': 1, 
        // Del 6
        'q6_1': 1, 'q6_2': 1, 'q6_4': 1, 'q6_5': 1, 'q6_7': 1,
        // Del 7 (Sortering = 3p)
        'q7_1': 1, 'q7_2': 1, 'q7_3': 1, 'q7_4': 1, 'q7_6': 1,
        'q7_5': 1, 
    };
    
    // Ã…pne spÃ¸rsmÃ¥l med nÃ¸kkelord for automatisk retting
    const keywordAnswers = {
        'q1_3': { keywords: ["mat", "husly", "husli"], points: 1 },
        'q2_2': { keywords: ["vise", "tÃ¸r", "tÃ¸ff", "tÃ¸rr"], points: 1 },
        'q3_3': { keywords: ["vÃ¥pen", "kommunevÃ¥pen", "komunevÃ¥pnet", "kommunevÃ¥pnet", "kommunevÃ¥penet", "kommunevopnet"], points: 1 },
        'q4_2': { keywords: ["stjÃ¥let", "feil maleri"], points: 1 },
        'q5_1': { keywords: ["penger", "rÃ¥d", "betale", "betaling", "koster"], points: 1 },
        'q6_3': { keywords: ["eget valg", "fritt valg", "valg", "fritt", "velge", "uavhengig"], points: 1 },
    };
    
    // ID-er for alle de Ã¥pne tekstspÃ¸rsmÃ¥lene
    const openQuestionIds = [
        'q1_3', 'q2_2', 'q3_3', 'q4_2', 'q5_1', 'q6_3'
    ];

    // SorteringsspÃ¸rsmÃ¥l (ID: Korrekt rekkefÃ¸lge av data-id verdier)
    const correctOrder_q1_5 = ["dÃ¸r", "deltar", "verden"];
    const correctOrder_q4_4 = ["1", "2", "3", "4"];
    const correctOrder_q5_3 = ["1", "2", "3"];
    const correctOrder_q7_5 = ["1", "2", "3", "4"];
    
    // Definer alle sorteringsspÃ¸rsmÃ¥lene og deres fasit
    const orderQuestionData = [
        { id: 'q1_5', correct: correctOrder_q1_5 },
        { id: 'q4_4', correct: correctOrder_q4_4 },
        { id: 'q5_3', correct: correctOrder_q5_3 },
        { id: 'q7_5', correct: correctOrder_q7_5 },
    ];


    // --- HENTE POENG & RESULTAT FUNKSJONER ---

    /**
     * Henter spÃ¸rsmÃ¥lsteksten basert pÃ¥ ID/navn.
     */
    function getQuestionText(qName, elementId) {
        // 1. ForsÃ¸k Ã¥ finne spÃ¸rsmÃ¥lselementet via name eller id
        let questionElement = document.querySelector(`[name="${qName}"]`) || document.getElementById(elementId || qName);
        
        if (questionElement) {
            // 2. Finn den nÃ¦rmeste overordnede div med klassen 'question'
            let questionDiv = questionElement.closest('.question');
            
            // 3. Hvis funnet, returner innholdet i det fÃ¸rste <p>-elementet
            if (questionDiv) {
                const pElement = questionDiv.querySelector('p:first-child');
                return pElement ? pElement.innerText : `SpÃ¸rsmÃ¥l ${qName}`;
            }
        }
        // 4. Fallback
        return `SpÃ¸rsmÃ¥l ${qName}`;
    }

    /**
     * Sjekker om nÃ¸kkelord finnes i svaret for Ã¥pent spÃ¸rsmÃ¥l.
     * @returns {number} Poengsum.
     */
    function getPointsForOpenQuestion(questionId, userAnswer) {
        if (!keywordAnswers[questionId]) {
            return 0;
        }
        
        const questionData = keywordAnswers[questionId];
        const sanitizedAnswer = userAnswer.toLowerCase().trim();
        
        for (const keyword of questionData.keywords) {
            if (sanitizedAnswer.includes(keyword)) {
                return questionData.points;
            }
        }
        
        return 0;
    }

    /**
     * Sjekker alle flervalgs- og match-spÃ¸rsmÃ¥l og returnerer score og feil.
     * @returns {{score: number, max: number, incorrect: Array}} Resultatobjekt.
     */
/**
 * Sjekker alle flervalgs- og match-spÃ¸rsmÃ¥l og returnerer score og feil.
 * @returns {{score: number, max: number, incorrect: Array}} Resultatobjekt.
 */
function getResultForMultipleChoice() {
    let mcScore = 0;
    let max = 0;
    const incorrect = [];
    
    for (const qId in correctAnswers) {
        // ENDRET: Henter maks poeng fra questionPoints
        const maxPoints = questionPoints[qId] || 1; 
        max += maxPoints; 
        
        const expectedAnswer = correctAnswers[qId];
        
        // --- ENDRING HER: Utvid sÃ¸ket til Ã¥ inkludere <select> elementer ---
        
        // 1. PrÃ¸v Ã¥ finne en valgt radio-knapp:
        let userAnswerElement = document.querySelector(`input[name="${qId}"]:checked`);
        
        // 2. Hvis ingen radio-knapp er funnet, prÃ¸v Ã¥ finne et <select> element:
        if (!userAnswerElement) {
            userAnswerElement = document.querySelector(`select[name="${qId}"]`);
        }
        
        // 3. Hent brukerens svar basert pÃ¥ elementtype
        let userAnswer = 'Ikke besvart';
        
        if (userAnswerElement) {
            // Hvis det er et <select>-element:
            if (userAnswerElement.tagName === 'SELECT') {
                userAnswer = userAnswerElement.value;
            } 
            // Hvis det er en sjekket radio/checkbox:
            else if (userAnswerElement.checked) {
                userAnswer = userAnswerElement.value;
            }
        }
        // --- SLUTT PÃ… ENDRING ---

        if (userAnswer !== 'Ikke besvart' && userAnswer === expectedAnswer) {
            mcScore += maxPoints; // Bruker definert maks poeng
        } else if (userAnswer !== expectedAnswer) {
            // Logg feil hvis svaret er feil eller "Ikke besvart"
            const questionText = getQuestionText(qId);
            incorrect.push({
                name: qId,
                text: questionText,
                userAnswer: userAnswer, // Inkluderer brukerens faktiske svar/valgt verdi
                correctAnswer: expectedAnswer
            });
        }
    }
    return { score: mcScore, max: max, incorrect: incorrect };
}

    /**
     * Henter ut rekkefÃ¸lgen til elementene, sammenligner den og returnerer score og feil.
     * @returns {{score: number, max: number, incorrect: Array}} Resultatobjekt.
     */
// Bare koden som endres: getResultForOrderQuestions

function getResultForOrderQuestions() {
    let orderScore = 0;
    let max = 0;
    const incorrect = [];

    orderQuestionData.forEach(qData => {
        const maxPoints = questionPoints[qData.id] || 1; 
        max += maxPoints; 
        
        // PrÃ¸ver Ã¥ finne listContainer i hele dokumentet, som er mer robust
        const listContainer = document.getElementById(qData.id)?.querySelector('.draggable-list') || document.querySelector(`#${qData.id} .draggable-list`);
        
        if (!listContainer) {
            // Logger en feil hvis listen ikke blir funnet
            const questionText = getQuestionText(qData.id);
             incorrect.push({
                name: qData.id,
                text: questionText,
                userAnswer: 'Feil: Fant ikke .draggable-list i HTML',
                correctAnswer: qData.correct.join(' &rarr; ')
            });
            return;
        }

        // Henter bÃ¥de data-ID (for retting) og teksten (for logging)
        const items = Array.from(listContainer.querySelectorAll('.draggable-item'));
        const userOrderIds = items.map(item => item.getAttribute('data-id'));
        const userOrderText = items.map(item => item.innerText.trim()); // Henter teksten
        
        const correctSequence = qData.correct;
        
        const isCorrect = userOrderIds.length === correctSequence.length &&
            userOrderIds.every((item, index) => item === correctSequence[index]);

        if (isCorrect) {
            orderScore += maxPoints;
        } else {
            const questionText = getQuestionText(qData.id);
            incorrect.push({
                name: qData.id,
                text: questionText,
                // NYTT: Bruker teksten i elementet for bedre lesbarhet i feilloggen
                userAnswer: userOrderText.length > 0 ? userOrderText.join(' &rarr; ') : 'Ikke besvart',
                correctAnswer: correctSequence.join(' &rarr; ')
            });
        }
    });
    return { score: orderScore, max: max, incorrect: incorrect };
}


    // --- HOVEDFUNKSJON FOR POENGBEREGNING OG VISNING ---

    /**
     * Hovedfunksjon for Ã¥ beregne total score og vise resultatsiden.
     */
    function calculateTotalScore() {
        let totalScore = 0;
        let maxScore = 0;
        const incorrect = [];

// Bare koden som endres: calculateTotalScore

// 1. Beregn poeng for Ã…pne spÃ¸rsmÃ¥l (NÃ¸kkelord)
openQuestionIds.forEach(qId => {
    const elementId = `${qId}-answer`;
    // PrÃ¸ver Ã¥ finne elementet via ID eller NAME
    const answerElement = document.getElementById(elementId) || document.querySelector(`[name="${qId}"]`); 
    
    // Antar at hvis elementet finnes, er det et input/textarea
    if (answerElement && 'value' in answerElement) { 
        const userAnswerText = answerElement.value;
        const points = getPointsForOpenQuestion(qId, userAnswerText);
        const questionData = keywordAnswers[qId]; // Henter data for riktig maks poeng

        if (points === 0) {
            const questionText = getQuestionText(qId, elementId);
            incorrect.push({
                name: qId,
                text: questionText,
                userAnswer: userAnswerText || 'Ikke besvart',
                correctAnswer: `NÃ¸kkelord: ${questionData.keywords.join(', ')}`
            });
        }

        totalScore += points;
        maxScore += questionData.points; // Bruker poenget definert i keywordAnswers
    } else {
        // HÃ¥ndterer tilfellet der HTML-elementet ikke blir funnet
        maxScore += keywordAnswers[qId] ? keywordAnswers[qId].points : 1; // MÃ¥ legge til maks poeng selv om felt mangler
        const questionText = getQuestionText(qId);
         incorrect.push({
            name: qId,
            text: questionText,
            userAnswer: 'HTML-element mangler eller er ikke en input/textarea',
            correctAnswer: `NÃ¸kkelord: ${keywordAnswers[qId].keywords.join(', ')}`
        });
    }
});
        
        // 2. Beregn poeng for Flervalg/Match-spÃ¸rsmÃ¥l
        const mcResult = getResultForMultipleChoice();
        totalScore += mcResult.score;
        maxScore += mcResult.max;
        incorrect.push(...mcResult.incorrect);

        // 3. Beregn poeng for SorteringsspÃ¸rsmÃ¥l
        const orderResult = getResultForOrderQuestions();
        totalScore += orderResult.score;
        maxScore += orderResult.max;
        incorrect.push(...orderResult.incorrect);

        // Vis resultat-siden
        displayResult(totalScore, maxScore, incorrect);
        console.log(`Endelig score: ${totalScore}/${maxScore}`);
    }


    // --- VISNING AV RESULTAT ---

    /**
     * Viser resultatsiden, med all informasjon samlet i Ã©n "resultat-rute".
     */
    function displayResult(score, maxScore, incorrect) {
        const quizContainer = document.getElementById('quizContent');
        
        // Sjekker om resultContainer finnes eller oppretter den
        let resultContainer = document.getElementById('resultContainer');
        if (!resultContainer) {
            resultContainer = document.createElement('div');
            resultContainer.id = 'resultContainer';
            document.body.appendChild(resultContainer);
        }
        
        // Skjul quizen og vis resultat-containeren
        if (quizContainer) quizContainer.style.display = 'none';
        resultContainer.style.display = 'block';

// --- NYTT: SORTERING AV FEILAKTIGE SVAR ---
    // Funksjon for Ã¥ sortere ID-er som q1_1, q1_2a, q2_1, osv.
    const sortIncorrect = (a, b) => {
        // Hjelpefunksjon for Ã¥ parse ID til delnummer og spÃ¸rsmÃ¥lsnummer/bokstav
        const parseQid = (qid) => {
            const match = qid.match(/q(\d+)_(\d+)([a-z])?/);
            if (!match) return { part: 99, num: 99, sub: 'a' }; // Fallback for ukjente IDer
            return {
                part: parseInt(match[1]), // Delnummer (f.eks. 1)
                num: parseInt(match[2]), // SpÃ¸rsmÃ¥lsnummer i del (f.eks. 2)
                sub: match[3] || 'a'     // UnderspÃ¸rsmÃ¥l (f.eks. 'a')
            };
        };

        const aData = parseQid(a.name);
        const bData = parseQid(b.name);

        // 1. Sorter etter Delnummer (q1 fÃ¸r q2)
        if (aData.part !== bData.part) {
            return aData.part - bData.part;
        }

        // 2. Sorter etter SpÃ¸rsmÃ¥lsnummer i Delen (q1_1 fÃ¸r q1_2)
        if (aData.num !== bData.num) {
            return aData.num - bData.num;
        }

        // 3. Sorter etter UnderspÃ¸rsmÃ¥l (q1_2a fÃ¸r q1_2b)
        // Sammenligner strenger ('a' < 'b')
        return aData.sub.localeCompare(bData.sub);
    };

    // UtfÃ¸r sorteringen
    incorrect.sort(sortIncorrect);
    // --- SLUTT PÃ… SORTERING ---


        let html = `
            <div class="result-card"> <h2 class="result-title">ğŸ‰ PrÃ¸ven er fullfÃ¸rt! ğŸ‰</h2>
                
                <div class="score-summary">
                    <p>Du fikk <strong>${score}</strong> poeng av totalt <strong>${maxScore}</strong> mulige.</p>
                </div>
        `;

        // Legg til feilaktige svar hvis det finnes noen
        if (incorrect.length > 0) {
            html += `
                <div class="incorrect-answers-section">
                    <h3 class="incorrect-title">âŒ Feilaktige svar (${incorrect.length} totalt)</h3>
                    <p class="guide-text">GÃ¥ gjennom svarene nedenfor for Ã¥ se hva som var feil og hva som er riktig svar.</p>
                    <ol class="incorrect-list">
            `;
            
            incorrect.forEach(item => {
                // UnngÃ¥r at HTML-kode inni spÃ¸rsmÃ¥lsteksten Ã¸delegger layouten
                const sanitizedText = item.text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
                
                html += `
                    <li class="incorrect-item">
                        <h4>${sanitizedText} (${item.name})</h4>
                        <p class="user-answer"><strong>Ditt svar:</strong> ${item.userAnswer}</p>
                        <p class="correct-answer"><strong>Riktig svar:</strong> ${item.correctAnswer}</p>
                    </li>
                `;
            });

            html += `
                    </ol>
                </div>
            `;
        } else {
            html += `
                <div class="correct-box">
                    <h3 class="correct-title">ğŸ¥³ Gratulerer! Du fikk full pott! ğŸ¥³</h3>
                </div>
            `;
        }

        html += `</div>`; // Avslutter hovedruten

        resultContainer.innerHTML = html;
        
        // Skroll til toppen av resultatsiden
        resultContainer.scrollIntoView({ behavior: 'smooth' });
    }

    // --- NAVIGASJON FUNKSJONER (Uendret) ---

    function nextQuestion() {
        const currentPartElement = document.getElementById(partIds[currentPart - 1]);
        if (!currentPartElement) return;

        const questionsContainer = currentPartElement.querySelector('.questions-container');
        const totalQuestions = questionsContainer.querySelectorAll('.question').length;

        if (currentQuestionIndex < totalQuestions - 1) {
            currentQuestionIndex++;
        } else if (currentPart < totalParts) {
            showPart(currentPart + 1, true);
            return;
        } else {
            // Siste spÃ¸rsmÃ¥l i siste del -> FullfÃ¸r/Kalkuler poeng
            calculateTotalScore();
            return; 
        }
        updateQuestionVisibility();
    }
    
    function prevQuestion() {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
        } else if (currentPart > 1) {
            const prevPartIndex = currentPart - 1;
            const prevPartId = partIds[prevPartIndex - 1];
            const prevPartElement = document.getElementById(prevPartId);
            
            if (prevPartElement) {
                const totalPrevQuestions = prevPartElement.querySelector('.questions-container').querySelectorAll('.question').length;
                showPart(prevPartIndex, false); 
                currentQuestionIndex = totalPrevQuestions - 1; 
            }
        } else {
            return;
        }
        updateQuestionVisibility();
    }

    function showPart(index, resetQuestion = true) {
        if (index < 1 || index > totalParts) return;

        partIds.forEach(id => {
            const part = document.getElementById(id);
            if (part) part.style.display = 'none';
        });

        const partToShow = document.getElementById(partIds[index - 1]);
        if (partToShow) {
            currentPart = index;

            if (resetQuestion) {
                currentQuestionIndex = 0;
            }
            
            partToShow.style.display = 'flex';
            updateQuestionVisibility(); 
            document.querySelector('.container')?.scrollIntoView({ behavior: 'smooth' });
        }
    }

    function updateQuestionVisibility() {
        const currentPartElement = document.getElementById(partIds[currentPart - 1]);
        if (!currentPartElement) return;

        const questionsContainer = currentPartElement.querySelector('.questions-container');
        const questionContainers = questionsContainer.querySelectorAll('.question');
        const totalQuestions = questionContainers.length;

        questionContainers.forEach((q, index) => {
            q.classList.remove('active');
            if (index === currentQuestionIndex) {
                q.classList.add('active');
            }
        });
        
        const questionNavButtons = currentPartElement.querySelector('.question-navigation-buttons');
        
        if (questionNavButtons) {
            const prevQBtn = questionNavButtons.querySelector('.prev-question-btn');
            const nextQBtn = questionNavButtons.querySelector('.next-question-btn');
            const nextPBtn = questionNavButtons.querySelector('.next-part-btn');
            const submitBtn = questionNavButtons.querySelector('.submit-btn');
            
            if (currentQuestionIndex === 0 && currentPart === 1) {
                prevQBtn.style.visibility = 'hidden';
            } else {
                prevQBtn.style.visibility = 'visible';
            }
            
            if (currentQuestionIndex === totalQuestions - 1) {
                nextQBtn.style.display = 'none'; 
                
                if (currentPart < totalParts) {
                    nextPBtn.style.display = 'block';
                    submitBtn.style.display = 'none';
                } else {
                    nextPBtn.style.display = 'none';
                    submitBtn.style.display = 'block';
                }
            } else {
                nextQBtn.style.display = 'block';
                nextPBtn.style.display = 'none';
                submitBtn.style.display = 'none';
            }
            
            // Koble hendelser
            prevQBtn.onclick = prevQuestion;
            nextQBtn.onclick = nextQuestion;
            nextPBtn.onclick = nextQuestion;
            submitBtn.onclick = calculateTotalScore;
        }
        
        if (questionsContainer) {
            questionsContainer.scrollTop = 0;
        }
    }


    // --- DRA-OG-SLIPP FUNKSJONALITET (Uendret) ---
    
    let draggedItem = null; 

    function handleDragStart(e) {
        draggedItem = this;
        e.dataTransfer.setData('text/plain', this.dataset.id); 
        setTimeout(() => this.classList.add('dragging'), 0);
    }

    function handleDragEnd() {
        this.classList.remove('dragging');
        draggedItem = null;
    }

    function handleDragOver(e) {
        e.preventDefault();

        const listContainer = this.parentElement; 

        if (this !== draggedItem && this.parentElement === draggedItem.parentElement) {
            const rect = this.getBoundingClientRect();
            const next = (e.clientY - rect.top) / rect.height > 0.5;
            
            listContainer.insertBefore(draggedItem, next ? this.nextSibling : this);
        }
    }

    function handleDrop(e) {
        e.preventDefault();
    }
    
    /**
     * Setter opp dra-og-slipp-funksjonalitet for en spesifikk liste.
     */
    function setupDragAndDrop(listContainer) {
        const listItems = listContainer.querySelectorAll('.draggable-item');

        listItems.forEach(item => {
            item.setAttribute('draggable', 'true'); 

            item.addEventListener('dragstart', handleDragStart);
            item.addEventListener('dragend', handleDragEnd);
            item.addEventListener('dragover', handleDragOver);
            item.addEventListener('drop', handleDrop);
        });
    }

    // KjÃ¸res nÃ¥r DOM-en er fullastet
    document.addEventListener('DOMContentLoaded', () => {
        const allDraggableLists = document.querySelectorAll('.draggable-list');

        allDraggableLists.forEach(list => {
            setupDragAndDrop(list);
        });
        
        // SÃ¸rg for at quizen starter
        showPart(1);
    });
    
</script>



</body>
</html>